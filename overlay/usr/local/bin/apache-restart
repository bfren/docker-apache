#!/usr/bin/with-contenv sh

set -euo pipefail
export BF_E=`basename ${0}`


#======================================================================================================================
# Reload Apache - but only if it is running.
# 'restart' automatically runs 'configtest' first so there's no need to call that manually.
#======================================================================================================================

if [ ! -z "$(pidof httpd)" ] ; then

    bf-env "BF_APACHE_RESTARTING" "1"

    bf-echo "Restarting Apache..."
    /usr/bin/with-contenv apachectl restart
    bf-done

    bf-env "BF_APACHE_RESTARTING" "0"

else

    bf-debug "Apache is not running."

fi
